{"version":3,"sources":["images/header/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/PopupAvatarEdit.js","components/PopupAddPlace.js","components/PopupProfileEdit.js","components/PopupDeleteCard.js","components/ImagePopup.js","components/Login.js","components/Register.js","images/popup/success.svg","images/popup/fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/Api.js","utils/AccountApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","currentUserLogin","logOut","location","useLocation","entranceButtonsText","urls","className","src","headerLogo","alt","to","onClick","pathname","CurrentUserContext","createContext","Card","item","owner","onCardClick","onCardLike","onCardDel","React","useState","liked","setLiked","useContext","currentUser","useEffect","likes","some","_id","type","href","target","name","link","length","Main","isEditAvatarPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","cards","setCards","handleLikeButton","event","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","formTitle","buttonTitle","buttonTitleLoading","children","onSubmit","onLoad","resetForm","value","disabled","PopupAvatarEdit","onChangeUserpic","inputField","setInputField","preventDefault","placeholder","id","onChange","handleChange","required","PopupAddPlace","onAddPlace","PopupProfileEdit","onUpdateUser","PopupDeleteCard","card","onDeleteCard","ImagePopup","Login","email","password","noValidate","autoComplete","Register","InfoTooltip","onFail","succsessText","failText","navigate","useNavigate","handleOnSuccess","failIcon","succsessIcon","ProtectedRoute","addApi","baseUrl","this","fetch","method","headers","_getJwt","then","_checkResponse","bind","nameValue","aboutValue","body","JSON","stringify","linkValue","values","res","ok","json","Promise","reject","status","localStorage","jwt","addAccountApi","App","setIsAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setIsProfilePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setOnload","setLoggedIn","isInfoTooltip","setIsInfoTooltip","isEntranceFail","setIsEntranceFail","setCurrentUserLogin","closePopups","changeLikeCardStatus","isLiked","a","unLikeCard","likeCard","getUserInfo","response","catch","err","console","log","getCards","validation","StrictMode","Provider","tabIndex","onKeyDown","keyCode","handleEscKeydown","removeItem","path","element","replace","register","finally","auth","token","setItem","props","newCard","newCards","error","deleteCard","filter","c","setUserPic","setUserInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db84444d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport headerLogo from '../images/header/header__logo.svg';\r\n\r\nfunction Header({ loggedIn, currentUserLogin, logOut }) {\r\n  \r\n  const location = useLocation();\r\n\r\n  const entranceButtonsText = { registration: \"Зарегистрироваться\",\r\n                                login: \"Войти\",\r\n                                signOut: \"Выйти\" };\r\n\r\n  const urls = { signUp: '/sign-up',\r\n                 signIn: '/sign-in' }\r\n\r\n  \r\n  function handleLogOut() {\r\n    logOut();\r\n  }\r\n                \r\n  return (\r\n          <header className=\"header\">\r\n            <img src={headerLogo} className=\"header__logo\" alt=\"Логотип Mesto Russia\" />\r\n            <Link to={'/'} className=\"header__profile-button\">{ loggedIn ? `${currentUserLogin}` : null }</Link>\r\n            { (loggedIn) ?\r\n              <Link to={'/'} className=\"header__entrance-button\" onClick={handleLogOut}>{entranceButtonsText.signOut}</Link> :\r\n              <Link className=\"header__entrance-button\" to={\r\n                (location.pathname === urls.signUp) ? `${urls.signIn}` :\r\n                (location.pathname === urls.signIn) ? `${urls.signUp}` :\r\n                (loggedIn) ? `${entranceButtonsText.signOut}` :\r\n                entranceButtonsText.login\r\n              }>{ \r\n                (location.pathname === urls.signUp) ? `${entranceButtonsText.login}` :\r\n                (location.pathname === urls.signIn) ? `${entranceButtonsText.registration}` :\r\n                (loggedIn) ? `${entranceButtonsText.signOut}`:\r\n                entranceButtonsText.login\r\n                }\r\n              </Link>\r\n            }\r\n          </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import {createContext} from 'react';\r\nconst CurrentUserContext = createContext();\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card ( { item, owner, onCardClick, onCardLike, onCardDel } ) {\r\n\r\n  const [liked, setLiked] = React.useState(false);\r\n  \r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const handleCardClick = function () {\r\n    onCardClick(item)\r\n  }\r\n  \r\n  const handleCardLike = function () {\r\n    onCardLike(item)\r\n  }\r\n\r\n  const handleCardDelete = function () {\r\n    onCardDel(item)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (item.likes.some(item => item === currentUser._id)) {\r\n      setLiked(true);\r\n    } else {\r\n      setLiked(false);\r\n    };\r\n  }, [item.likes, currentUser._id]);\r\n\r\n    return (\r\n      <div className=\"elements__element\">\r\n        {\r\n          owner \r\n          ? <button className=\"elements__delete-button\" type=\"button\" onClick={()=>{handleCardDelete(item)}} ></button>\r\n          : null\r\n        }\r\n          <a className=\"elements__picture-link\" href=\"#/\" target=\"_self\" onClick={handleCardClick}>\r\n            <img className=\"elements__picture\" alt={item.name} src={item.link}/>\r\n          </a>\r\n        <div className=\"elements__caption\">\r\n          <h2 className=\"elements__caption-text\">{item.name}</h2>\r\n          <div className=\"elements__like\">\r\n          <button className={`elements__like-button ${liked ? 'elements__like-button_active' : ''}`} type=\"button\" onClick={()=>{handleCardLike(item)}}></button>\r\n            <span className=\"elements__like-count\">{item.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport Card from '../components/Card.js';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main( {isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, onCardDel, onCardClick, cards, setCards, onCardLike} ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const handleLikeButton = (event) => {\r\n    onCardLike(event);\r\n  }\r\n\r\n    return (\r\n      <main>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__avatar-container\">\r\n            <button className=\"profile__avatar-edit\" onClick={isEditAvatarPopupOpen}></button>\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Картинка пользователя\" />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__edit-button\" type=\"button\" onClick={isEditProfilePopupOpen}></button>\r\n            <p className=\"profile__status\">{currentUser.about}</p>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick={isAddPlacePopupOpen}></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n        {cards && cards.map((item) => {\r\n          return (\r\n            <Card \r\n            item={item} \r\n            owner={item.owner === currentUser._id}\r\n            onCardClick={onCardClick}\r\n            onCardDel={onCardDel}\r\n            onCardLike={(item)=>{handleLikeButton(item)}}\r\n            key={item._id}\r\n            />\r\n            )\r\n          }\r\n        )}\r\n        </section>\r\n      </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n          <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n          </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm( {isOpen, onClose, formTitle, buttonTitle, buttonTitleLoading, children, onSubmit, onLoad, className, resetForm} ) {\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={onClose}></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"}`}>\r\n      <div className=\"popup__window\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n        <form onSubmit={onSubmit} className={className}>\r\n          <h2 className=\"popup__form-title\">{formTitle}</h2>\r\n          <fieldset className=\"popup__form-fieldset\">\r\n            {children}\r\n            <input type=\"submit\" className=\"popup__form-submit-button popup__form-submit-button_form_profile\" value={`${onLoad ? buttonTitleLoading : buttonTitle}`} disabled={onLoad} ></input>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction PopupAvatarEdit( {isOpen, onClose, onLoad, onChangeUserpic} ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n  const [inputField , setInputField] = React.useState({\r\n    avatar: ''\r\n  })\r\n\r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onChangeUserpic(inputField);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setInputField( {avatar: currentUser.avatar\r\n                  } );\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n      <PopupWithForm\r\n      className={\"popup__form popup__form_state_edit-userpic\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onLoad={onLoad}\r\n      formTitle={\"Обновить аватар\"}\r\n      buttonTitle={\"Сохранить\"}\r\n      buttonTitleLoading={\"Сохранение...\"}\r\n      onSubmit={handleSubmit}\r\n      >\r\n        <input type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__form-input popup__form-input_field_userpic-link\" name=\"avatar\" id=\"userpic-link-field\" value={inputField.avatar || ''} onChange={(event)=>{handleChange(event)}} required />\r\n        <span className=\"popup__form-error-text popup__form-error-text_message_userpic-link userpic-link-field-error\"></span>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n\r\n  export default PopupAvatarEdit;\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction PopupAddPlace( {isOpen, onClose, formTitle, buttonTitle, onAddPlace, onLoad} ) {\r\n\r\n  const [inputField, setInputField] = React.useState({\r\n    name: '',\r\n    link: ''\r\n  })\r\n\r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onAddPlace(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    name: '',\r\n    link: ''\r\n  });\r\n}, [isOpen]);\r\n\r\n  return (\r\n      <PopupWithForm\r\n        className={\"popup__form popup__form_state_add-place\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onLoad={onLoad}\r\n        formTitle={\"Новое место\"}\r\n        buttonTitle={\"Создать\"}\r\n        buttonTitleLoading={\"Создание...\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n      <input value={inputField.name} type=\"text\" placeholder=\"Название\" className=\"popup__form-input popup__form-input_field_place-name\" name=\"name\" id=\"place-name-field\"  onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_place-name place-name-field-error\"></span>\r\n      <input value={inputField.link} type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__form-input popup__form-input_field_picture-link\" name=\"link\" id=\"picture-link-field\"  onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_picture-link picture-link-field-error\"></span>\r\n      </PopupWithForm>\r\n  );\r\n}\r\n\r\n  export default PopupAddPlace;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction PopupProfileEdit( {isOpen, onClose, onUpdateUser, resetForm, onLoad } ) {\r\n\r\n  const [currentUser] = React.useContext(CurrentUserContext);\r\n\r\n  const [inputField , setInputField] = React.useState({\r\n    name: '',\r\n    about: ''\r\n  })\r\n  \r\n  const handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n      event.preventDefault();\r\n      onUpdateUser(inputField);\r\n  }\r\n     \r\n  React.useEffect(() => {\r\n    setInputField( {name: currentUser.name,\r\n                    about: currentUser.about\r\n                  } );\r\n  }, [currentUser, isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm\r\n      className={\"popup__form popup__form_state_edit-profile\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onLoad={onLoad}\r\n      formTitle={\"Редактировать профиль\"}\r\n      buttonTitle={\"Сохранить\"}\r\n      buttonTitleLoading={\"Сохранение...\"}\r\n      onSubmit={handleSubmit}\r\n      >\r\n      <input type=\"text\" placeholder=\"Имя\" className=\"popup__form-input popup__form-input_field_name\" name=\"name\" id=\"name-field\" value={inputField.name || ''} onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_name name-field-error\"></span>\r\n      <input type=\"text\" placeholder=\"Должность\" className=\"popup__form-input popup__form-input_field_status\" name=\"about\" id=\"about-field\" value={inputField.about  || ''} onChange={(event)=>{handleChange(event)}}/>\r\n      <span className=\"popup__form-error-text popup__form-error-text_message_status status-field-error\"></span>\r\n    </PopupWithForm>\r\n    );\r\n  }\r\n\r\n  export default PopupProfileEdit;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction PopupDeleteCard( {card, isOpen, onClose, onLoad, onDeleteCard}  ) {\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n      <PopupWithForm\r\n        className={\"popup__form\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onLoad={onLoad}\r\n        formTitle={\"Вы уверены?\"}\r\n        buttonTitle={\"Да\"}\r\n        buttonTitleLoading={\"Удаление...\"}\r\n        onSubmit={handleSubmit}\r\n      />\r\n    );\r\n  }\r\n\r\n  export default PopupDeleteCard;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={onClose}></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"} popup_state_picture-full`}>\r\n        <div className=\"popup__window popup__window_state_picture-full\">\r\n          <button className=\"popup__close-button popup__close-button_state_picture-full\" type=\"button\" onClick={onClose}></button>\r\n          <img className=\"popup__image\" src={card ? card.link : \"\"} alt={card ? card.name : \"\"} />\r\n          <h2 className=\"popup__caption\">{card ? card.name : \"\"}</h2>\r\n        </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\n\r\nfunction Login({onLoad, onSubmit}) {\r\n\r\n  const [inputField, setInputField] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\nconst handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\nconst handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    email: '',\r\n    password: ''\r\n  });\r\n}, []);\r\n\r\n  return (\r\n    <section className=\"user-entrance user-entrance__screen_state_login\">\r\n      <form className=\"user-entrance__form user-entrance__form_state_login\" onSubmit={handleSubmit} name=\"user-entrance__form_state_login\" noValidate>\r\n        <h2 className=\"user-entrance__form-title\">Вход</h2>\r\n        <fieldset className=\"user-entrance__form-fieldset user-entrance__form-fieldset_state_login\">\r\n          <input value={inputField.email} type=\"text\" placeholder=\"Email\" className=\"user-entrance__form-input user-entrance__form-input_field_email\" name=\"email\" id=\"email-field\" onChange={(event)=>{handleChange(event)}}></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error\"></span>\r\n          <input value={inputField.password} type=\"password\" placeholder=\"Пароль\" className=\"user-entrance__form-input user-entrance__form-input_field_password\" name=\"password\" id=\"password-field\" onChange={(event)=>{handleChange(event)}} autoComplete=\"on\"></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error\"></span>\r\n          <input type=\"submit\" className=\"user-entrance__form-submit-button user-entrance__form-submit-button_form_login\" disabled={onLoad} value=\"Войти\"></input>\r\n        </fieldset>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({onLoad, onSubmit}) {\r\n\r\nconst [inputField, setInputField] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  })\r\n\r\nconst handleChange = (event) =>{\r\n    setInputField( { ...inputField,\r\n      [event.target.name]: event.target.value\r\n    } );\r\n  }\r\n\r\nconst handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSubmit(inputField);\r\n}\r\n\r\nReact.useEffect(() => {\r\n  setInputField({\r\n    email: '',\r\n    password: ''\r\n  });\r\n}, []);\r\n\r\n  return (\r\n    <section className=\"user-entrance user-entrance__screen_state_registration\">\r\n      <form className=\"user-entrance__form user-entrance__form_state_registration\" onSubmit={handleSubmit} name=\"user-entrance__form_state_registration\" noValidate>\r\n        <h2 className=\"user-entrance__form-title\">Регистрация</h2>\r\n        <fieldset className=\"user-entrance__form-fieldset user-entrance__form-fieldset_state_registration\">\r\n          <input value={inputField.email} type=\"text\" placeholder=\"Email\" className=\"user-entrance__form-input user-entrance__form-input_field_email\" name=\"email\" id=\"email-register-field\" onChange={(event)=>{handleChange(event)}}></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_email email-field-error\"></span>\r\n          <input value={inputField.password} type=\"password\" placeholder=\"Пароль\" className=\"user-entrance__form-input user-entrance__form-input_field_password\" name=\"password\" id=\"password-register-field\" onChange={(event)=>{handleChange(event)}} autoComplete=\"on\"></input>\r\n          <span className=\"user-entrance__form-error-text user-entrance__form-error-text_message_password password-field-error\"></span>\r\n          <input type=\"submit\" className=\"user-entrance__form-submit-button user-entrance__form-submit-button_form_registration\" disabled={onLoad} value=\"Зарегистрироваться\"></input>\r\n        </fieldset>\r\n      </form>\r\n      <Link to={'/sign-in'} className=\"user-entrance__bottom-link user-entrance__bottom-link_state_registration\">Уже зарегистрированы? Войти</Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport succsessIcon from '../images/popup/success.svg'\r\nimport failIcon from '../images/popup/fail.svg'\r\n\r\nfunction InfoTooltip({isOpen, onClose, onFail}) {\r\n\r\n  const succsessText = { mainMessage: \"Вы успешно зарегистрировались!\",\r\n                         altCaption: \"Успешно\" };\r\n  const failText = { mainMessage: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n                      altCaption: \"Ошибка\" };\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  function handleOnSuccess() {\r\n    navigate('/sign-in');\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <section className={`popup-overlay ${isOpen ? \"popup-overlay_active\" : \"\"}`} onClick={\r\n      () => (!onFail ? handleOnSuccess() : onClose())\r\n    }></section>\r\n    <section className={`popup ${isOpen ? \"popup_active\" : \"\"}`}>\r\n        <div className=\"popup__window\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={\r\n           () => (!onFail ? handleOnSuccess() : onClose())\r\n          }></button>\r\n          <div className=\"popup__form\">\r\n            <img className=\"popup__icon popup__icon_state_success-message\" src={ onFail ? failIcon : succsessIcon } alt={ onFail ? failText.altCaption : succsessText.altCaption } />\r\n            <p className=\"popup__form-caption\">{ onFail ? `${failText.mainMessage}` : `${succsessText.mainMessage}` }</p>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ loggedIn, children }) {\r\n  return loggedIn ? children : <Navigate to=\"/sign-in\" />;\r\n};\r\n\r\nexport default ProtectedRoute; ","class Api {\r\n    constructor(baseUrl) {\r\n      this.baseUrl = baseUrl;\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Accept': 'application/json',\r\n                  'Access-Control-Allow-Credentials': 'true',\r\n                  \"Authorization\" : `Bearer ${this._getJwt()}`\r\n                }\r\n            })\r\n            .then(this._checkResponse.bind(this))\r\n          } \r\n    getCards() {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                  'Accept': 'application/json',\r\n                  'Access-Control-Allow-Credentials': 'true',\r\n                  \"Authorization\" : `Bearer ${this._getJwt()}`\r\n                }\r\n            })\r\n            .then(this._checkResponse.bind(this))\r\n          } \r\n    setUserInfo(nameValue, aboutValue) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: nameValue,\r\n                about: aboutValue\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    setUserPic(linkValue) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: linkValue\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    postCard(values) {\r\n        return fetch(`${this.baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: values.name,\r\n                link: values.link\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    deleteCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    likeCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}/likes`, {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n    unLikeCard(value) {\r\n        return fetch(`${this.baseUrl}/cards/${value}/likes`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Access-Control-Allow-Credentials': 'true',\r\n              \"Authorization\" : `Bearer ${this._getJwt()}`\r\n            },\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      }\r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    _getJwt() {\r\n      return localStorage.jwt;\r\n    }\r\n}\r\n\r\nconst url = 'http://localhost:3001';\r\nconst addApi = new Api(url);\r\nexport default addApi;","class AccountApi {\r\n    constructor(baseUrl) {\r\n      this.baseUrl = baseUrl;\r\n    }\r\n\r\n    register(values) {\r\n        return fetch(`${this.baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\"Content-Type\": \"application/json\",\r\n                      'Access-Control-Allow-Credentials': 'true'},\r\n            body: JSON.stringify({\r\n                password: values.password,\r\n                email: values.email\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n\r\n    auth(values) {\r\n        return fetch(`${this.baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\"Content-Type\": \"application/json\",\r\n                      'Access-Control-Allow-Credentials': 'true'},\r\n            body: JSON.stringify({\r\n                password: values.password,\r\n                email: values.email\r\n            })\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      }\r\n\r\n    validation(values) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${values}`,\r\n                'Access-Control-Allow-Credentials': 'true'\r\n            }\r\n        })\r\n        .then(this._checkResponse.bind(this))\r\n      } \r\n\r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst url = 'http://localhost:3001';\r\nconst addAccountApi = new AccountApi(url);\r\nexport default addAccountApi;","import React from 'react';\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useNavigate\r\n} from \"react-router-dom\";\r\nimport Header from '../components/Header.js';\r\nimport Main from '../components/Main.js';\r\nimport Footer from '../components/Footer.js';\r\nimport PopupAvatarEdit from './PopupAvatarEdit.js';\r\nimport PopupAddPlace from './PopupAddPlace.js';\r\nimport PopupProfileEdit from './PopupProfileEdit.js';\r\nimport PopupDeleteCard from './PopupDeleteCard.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport Login from '../components/Login.js';\r\nimport Register from '../components/Register.js';\r\nimport InfoTooltip from '../components/InfoTooltip.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport addApi from '../utils/Api.js';\r\nimport addAccountApi from '../utils/AccountApi.js';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction App() {\r\nconst [isEditAvatarPopupOpen, setIsAvatarPopupOpen] = React.useState(false);\r\nconst [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\nconst [isEditProfilePopupOpen, setIsProfilePopupOpen] = React.useState(false);\r\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\nconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\nconst [selectedCard, setSelectedCard] = React.useState(null);\r\nconst [currentUser, setCurrentUser] = React.useState({});\r\nconst [cards, setCards] = React.useState([]);\r\nconst [onLoad, setOnload] = React.useState(false);\r\nconst [loggedIn, setLoggedIn] = React.useState(false);\r\nconst [isInfoTooltip, setIsInfoTooltip] = React.useState(false);\r\nconst [isEntranceFail, setIsEntranceFail] = React.useState(false);\r\nconst [currentUserLogin, setCurrentUserLogin] = React.useState({});\r\n\r\nconst navigate = useNavigate();\r\n\r\nfunction closePopups() {\r\n  setIsAddPlacePopupOpen(false);\r\n  setIsAvatarPopupOpen(false);\r\n  setIsProfilePopupOpen(false);\r\n  setIsImagePopupOpen(false);\r\n  setIsDeleteCardPopupOpen(false);\r\n  setIsInfoTooltip(false);\r\n  setSelectedCard(null);\r\n}\r\n\r\nfunction handleCardClick(props) {\r\n    setIsImagePopupOpen(true);\r\n    setSelectedCard(props);\r\n  }\r\n\r\nfunction handleEditAvatarClick() {\r\n  setIsAvatarPopupOpen(true);\r\n}\r\n\r\nfunction handleEditProfileClick() {\r\n  setIsProfilePopupOpen(true);\r\n}\r\n\r\nfunction handleAddPlaceClick() {\r\n  setIsAddPlacePopupOpen(true);\r\n}\r\n\r\nfunction handleCardDel(props) {\r\n  setIsDeleteCardPopupOpen(true);\r\n  setSelectedCard(props);\r\n}\r\n\r\nfunction handleEscKeydown (event) {\r\n  if ((isEditAvatarPopupOpen || isDeleteCardPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isImagePopupOpen) && event.keyCode === 27) {\r\n    closePopups();\r\n  }\r\n}\r\n\r\nconst changeLikeCardStatus = async function (card, isLiked) {\r\n  if (isLiked) {\r\n    let res = await addApi.unLikeCard(card)\r\n    return res;\r\n  } else {\r\n    let res= await addApi.likeCard(card);\r\n    return res;\r\n  }\r\n}\r\n\r\nconst handleCardLike = function (event) {\r\n  const isLiked = event.likes.some((item) =>\r\n    item === currentUser._id\r\n  );\r\n  changeLikeCardStatus(event._id, isLiked)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((card) =>\r\n        card._id === event._id ? newCard : card\r\n      );\r\n      setCards(newCards);\r\n    })\r\n    .catch(err => console.error(err));\r\n}\r\n\r\nfunction handleUpdateUser(event) {\r\n    setOnload(true);\r\n    addApi.setUserInfo(event.name, event.about)\r\n    .then(\r\n      (response) => {\r\n        setCurrentUser(response);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleAddCard(event) {\r\n    setOnload(true);\r\n    addApi.postCard(event)\r\n    .then(\r\n      (response) => {\r\n        setCards([ response,\r\n          ...cards\r\n        ]);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleDeleteCard(event) {\r\n    setOnload(true);\r\n    addApi.deleteCard(event._id)\r\n    .then(() => {\r\n      setCards(cards.filter((c) =>\r\n        c._id !== event._id\r\n       ));\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    }); \r\n  }\r\n\r\nfunction hadleEditUserpic(event) {\r\n    setOnload(true);\r\n    addApi.setUserPic(event.avatar)\r\n    .then(\r\n      (response) => {\r\n        setCurrentUser(response);\r\n      })\r\n    .then(\r\n      () => {\r\n        closePopups();\r\n      })\r\n    .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    .finally(\r\n      ()=> {\r\n        setOnload(false);\r\n    });\r\n  }\r\n\r\nfunction handleLoginSubmit(event) {\r\n  setOnload(true);\r\n  addAccountApi.auth(event)\r\n  .then(\r\n    (response) => {\r\n      if (response.token) {\r\n        localStorage.setItem('jwt', response.token);\r\n        handleValidation(response.token);\r\n\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n  .catch((err) => {\r\n    console.log(err);\r\n    setIsEntranceFail(true);\r\n    setIsInfoTooltip(true);\r\n  })\r\n  .finally(\r\n    ()=> {\r\n      setOnload(false);\r\n  });\r\n}\r\n\r\nfunction handleValidation(token) {\r\n  addAccountApi.validation(token)\r\n  .then(\r\n    (response) => {\r\n      if (response) {\r\n        setCurrentUserLogin(response.email);\r\n        setLoggedIn(true);\r\n        navigate('/');\r\n    } else {\r\n      return;\r\n    }\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\nfunction handleRegisterSubmit(event) {\r\n  setOnload(true);\r\n  addAccountApi.register(event)\r\n  .then(\r\n    () => {\r\n      setIsEntranceFail(false);\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n    setIsEntranceFail(true);\r\n  })\r\n  .finally(\r\n    ()=> {\r\n      setOnload(false);\r\n      setIsInfoTooltip(true);\r\n  });\r\n}\r\n\r\nfunction handleLogOut() {\r\n  localStorage.removeItem('jwt');\r\n  setLoggedIn(false);\r\n  navigate('/sign-in');\r\n}\r\n\r\nReact.useEffect(() => {\r\n  if(loggedIn) {\r\n    addApi.getUserInfo()\r\n      .then(\r\n        (response) => {\r\n          setCurrentUser(response);\r\n        })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n}, [loggedIn]);\r\n\r\nReact.useEffect(() => {\r\n  if(loggedIn) {\r\n    addApi.getCards()\r\n      .then(\r\n        (response) => {\r\n          setCards(response);\r\n        })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n}, [loggedIn]);\r\n\r\nReact.useEffect(() => {\r\n  if (localStorage.jwt) {\r\n    addAccountApi.validation(localStorage.jwt)\r\n    .then(\r\n      (response) => {\r\n        if (response) {\r\n          setCurrentUserLogin(response.email);\r\n          setLoggedIn(true);\r\n          navigate('/');\r\n        } else {\r\n          return;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  } else {\r\n    setLoggedIn(false);\r\n  }\r\n}, [loggedIn]);\r\n\r\n  return (\r\n    <React.StrictMode>\r\n      <CurrentUserContext.Provider value={[currentUser, setCurrentUser]}>\r\n        <div className=\"page\" tabIndex=\"0\" onKeyDown={(event)=>{handleEscKeydown(event)}}>\r\n            <Header loggedIn={loggedIn} currentUserLogin={currentUserLogin} logOut={handleLogOut}/>\r\n            <InfoTooltip isOpen={isInfoTooltip} onClose={closePopups} onFail={isEntranceFail} />\r\n              <Routes>\r\n                <Route path=\"*\" element={<Navigate replace to=\"/\" />} />\r\n                <Route path=\"/sign-up\" element={<Register onSubmit={handleRegisterSubmit} onLoad={onLoad} />} />\r\n                <Route path=\"/sign-in\" element={<Login onSubmit={handleLoginSubmit} onLoad={onLoad} />} />\r\n                <Route path=\"/\" element={\r\n                  <ProtectedRoute loggedIn={loggedIn}>\r\n                    <Main\r\n                      isEditAvatarPopupOpen={handleEditAvatarClick}\r\n                      isEditProfilePopupOpen={handleEditProfileClick}\r\n                      isAddPlacePopupOpen={handleAddPlaceClick}\r\n                      onCardClick={handleCardClick}\r\n                      onCardDel={handleCardDel}\r\n                      cards={cards}\r\n                      setCards={setCards}\r\n                      onCardLike={handleCardLike}\r\n                    />\r\n                  </ProtectedRoute>\r\n                }/>\r\n              </Routes>\r\n          <Footer />\r\n          <PopupDeleteCard isOpen={isDeleteCardPopupOpen} onClose={closePopups} card={selectedCard} onDeleteCard={handleDeleteCard} onLoad={onLoad} />\r\n          <PopupAvatarEdit isOpen={isEditAvatarPopupOpen} onClose={closePopups} onChangeUserpic={hadleEditUserpic} onLoad={onLoad} />\r\n          <PopupProfileEdit isOpen={isEditProfilePopupOpen} onClose={closePopups} onUpdateUser={handleUpdateUser} onLoad={onLoad}/>\r\n          <PopupAddPlace isOpen={isAddPlacePopupOpen} onClose={closePopups} onAddPlace={handleAddCard} onLoad={onLoad}/>\r\n          <ImagePopup isOpen={isImagePopupOpen} onClose={closePopups} card={selectedCard} />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </React.StrictMode>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}